(self["webpackChunkpjcan"] = self["webpackChunkpjcan"] || []).push([[434],{

/***/ 35358:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var map = {
	"./af": 22190,
	"./af.js": 22190,
	"./ar": 7218,
	"./ar-dz": 85785,
	"./ar-dz.js": 85785,
	"./ar-kw": 29417,
	"./ar-kw.js": 29417,
	"./ar-ly": 56904,
	"./ar-ly.js": 56904,
	"./ar-ma": 98617,
	"./ar-ma.js": 98617,
	"./ar-ps": 91318,
	"./ar-ps.js": 91318,
	"./ar-sa": 82699,
	"./ar-sa.js": 82699,
	"./ar-tn": 36789,
	"./ar-tn.js": 36789,
	"./ar.js": 7218,
	"./az": 23050,
	"./az.js": 23050,
	"./be": 8316,
	"./be.js": 8316,
	"./bg": 70310,
	"./bg.js": 70310,
	"./bm": 58884,
	"./bm.js": 58884,
	"./bn": 83469,
	"./bn-bd": 46672,
	"./bn-bd.js": 46672,
	"./bn.js": 83469,
	"./bo": 39118,
	"./bo.js": 39118,
	"./br": 13113,
	"./br.js": 13113,
	"./bs": 23626,
	"./bs.js": 23626,
	"./ca": 40921,
	"./ca.js": 40921,
	"./cs": 17799,
	"./cs.js": 17799,
	"./cv": 12828,
	"./cv.js": 12828,
	"./cy": 93521,
	"./cy.js": 93521,
	"./da": 56962,
	"./da.js": 56962,
	"./de": 93294,
	"./de-at": 16158,
	"./de-at.js": 16158,
	"./de-ch": 95960,
	"./de-ch.js": 95960,
	"./de.js": 93294,
	"./dv": 47963,
	"./dv.js": 47963,
	"./el": 3432,
	"./el.js": 3432,
	"./en-au": 20998,
	"./en-au.js": 20998,
	"./en-ca": 15931,
	"./en-ca.js": 15931,
	"./en-gb": 45930,
	"./en-gb.js": 45930,
	"./en-ie": 58081,
	"./en-ie.js": 58081,
	"./en-il": 71594,
	"./en-il.js": 71594,
	"./en-in": 23904,
	"./en-in.js": 23904,
	"./en-nz": 1507,
	"./en-nz.js": 1507,
	"./en-sg": 19409,
	"./en-sg.js": 19409,
	"./eo": 22177,
	"./eo.js": 22177,
	"./es": 84805,
	"./es-do": 39155,
	"./es-do.js": 39155,
	"./es-mx": 69791,
	"./es-mx.js": 69791,
	"./es-us": 76098,
	"./es-us.js": 76098,
	"./es.js": 84805,
	"./et": 96240,
	"./et.js": 96240,
	"./eu": 20391,
	"./eu.js": 20391,
	"./fa": 20612,
	"./fa.js": 20612,
	"./fi": 4220,
	"./fi.js": 4220,
	"./fil": 65570,
	"./fil.js": 65570,
	"./fo": 5466,
	"./fo.js": 5466,
	"./fr": 14461,
	"./fr-ca": 66306,
	"./fr-ca.js": 66306,
	"./fr-ch": 27081,
	"./fr-ch.js": 27081,
	"./fr.js": 14461,
	"./fy": 73484,
	"./fy.js": 73484,
	"./ga": 76957,
	"./ga.js": 76957,
	"./gd": 72978,
	"./gd.js": 72978,
	"./gl": 89866,
	"./gl.js": 89866,
	"./gom-deva": 65011,
	"./gom-deva.js": 65011,
	"./gom-latn": 84724,
	"./gom-latn.js": 84724,
	"./gu": 71601,
	"./gu.js": 71601,
	"./he": 79802,
	"./he.js": 79802,
	"./hi": 9358,
	"./hi.js": 9358,
	"./hr": 13907,
	"./hr.js": 13907,
	"./hu": 10218,
	"./hu.js": 10218,
	"./hy-am": 20533,
	"./hy-am.js": 20533,
	"./id": 52844,
	"./id.js": 52844,
	"./is": 97353,
	"./is.js": 97353,
	"./it": 6364,
	"./it-ch": 20774,
	"./it-ch.js": 20774,
	"./it.js": 6364,
	"./ja": 6008,
	"./ja.js": 6008,
	"./jv": 68221,
	"./jv.js": 68221,
	"./ka": 92417,
	"./ka.js": 92417,
	"./kk": 42071,
	"./kk.js": 42071,
	"./km": 76149,
	"./km.js": 76149,
	"./kn": 94572,
	"./kn.js": 94572,
	"./ko": 60659,
	"./ko.js": 60659,
	"./ku": 66285,
	"./ku-kmr": 59398,
	"./ku-kmr.js": 59398,
	"./ku.js": 66285,
	"./ky": 81609,
	"./ky.js": 81609,
	"./lb": 119,
	"./lb.js": 119,
	"./lo": 81748,
	"./lo.js": 81748,
	"./lt": 71973,
	"./lt.js": 71973,
	"./lv": 81347,
	"./lv.js": 81347,
	"./me": 53023,
	"./me.js": 53023,
	"./mi": 65747,
	"./mi.js": 65747,
	"./mk": 64341,
	"./mk.js": 64341,
	"./ml": 63840,
	"./ml.js": 63840,
	"./mn": 62058,
	"./mn.js": 62058,
	"./mr": 19182,
	"./mr.js": 19182,
	"./ms": 45197,
	"./ms-my": 89136,
	"./ms-my.js": 89136,
	"./ms.js": 45197,
	"./mt": 36408,
	"./mt.js": 36408,
	"./my": 51683,
	"./my.js": 51683,
	"./nb": 53141,
	"./nb.js": 53141,
	"./ne": 29344,
	"./ne.js": 29344,
	"./nl": 44703,
	"./nl-be": 84641,
	"./nl-be.js": 84641,
	"./nl.js": 44703,
	"./nn": 79873,
	"./nn.js": 79873,
	"./oc-lnc": 61217,
	"./oc-lnc.js": 61217,
	"./pa-in": 24612,
	"./pa-in.js": 24612,
	"./pl": 24457,
	"./pl.js": 24457,
	"./pt": 1089,
	"./pt-br": 79146,
	"./pt-br.js": 79146,
	"./pt.js": 1089,
	"./ro": 45950,
	"./ro.js": 45950,
	"./ru": 27292,
	"./ru.js": 27292,
	"./sd": 56774,
	"./sd.js": 56774,
	"./se": 87493,
	"./se.js": 87493,
	"./si": 3761,
	"./si.js": 3761,
	"./sk": 49711,
	"./sk.js": 49711,
	"./sl": 88558,
	"./sl.js": 88558,
	"./sq": 8633,
	"./sq.js": 8633,
	"./sr": 90688,
	"./sr-cyrl": 47903,
	"./sr-cyrl.js": 47903,
	"./sr.js": 90688,
	"./ss": 31991,
	"./ss.js": 31991,
	"./sv": 27020,
	"./sv.js": 27020,
	"./sw": 15891,
	"./sw.js": 15891,
	"./ta": 45714,
	"./ta.js": 45714,
	"./te": 30206,
	"./te.js": 30206,
	"./tet": 24768,
	"./tet.js": 24768,
	"./tg": 28276,
	"./tg.js": 28276,
	"./th": 57977,
	"./th.js": 57977,
	"./tk": 56928,
	"./tk.js": 56928,
	"./tl-ph": 8046,
	"./tl-ph.js": 8046,
	"./tlh": 41361,
	"./tlh.js": 41361,
	"./tr": 64367,
	"./tr.js": 64367,
	"./tzl": 10627,
	"./tzl.js": 10627,
	"./tzm": 12636,
	"./tzm-latn": 98148,
	"./tzm-latn.js": 98148,
	"./tzm.js": 12636,
	"./ug-cn": 68823,
	"./ug-cn.js": 68823,
	"./uk": 40461,
	"./uk.js": 40461,
	"./ur": 41366,
	"./ur.js": 41366,
	"./uz": 83454,
	"./uz-latn": 18374,
	"./uz-latn.js": 18374,
	"./uz.js": 83454,
	"./vi": 78572,
	"./vi.js": 78572,
	"./x-pseudo": 80464,
	"./x-pseudo.js": 80464,
	"./yo": 93709,
	"./yo.js": 93709,
	"./zh-cn": 65873,
	"./zh-cn.js": 65873,
	"./zh-hk": 17549,
	"./zh-hk.js": 17549,
	"./zh-mo": 52240,
	"./zh-mo.js": 52240,
	"./zh-tw": 90405,
	"./zh-tw.js": 90405
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 35358;

/***/ }),

/***/ 62774:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: function() { return /* binding */ api_canbus; }
});

// UNUSED EXPORTS: Canbus

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js + 3 modules
var defineProperty = __webpack_require__(91114);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__(44114);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.detached.js
var es_array_buffer_detached = __webpack_require__(16573);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.transfer.js
var es_array_buffer_transfer = __webpack_require__(78100);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.transfer-to-fixed-length.js
var es_array_buffer_transfer_to_fixed_length = __webpack_require__(77936);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-reversed.js
var es_typed_array_to_reversed = __webpack_require__(37467);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-sorted.js
var es_typed_array_to_sorted = __webpack_require__(44732);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.with.js
var es_typed_array_with = __webpack_require__(79577);
// EXTERNAL MODULE: ./node_modules/eventemitter3/index.mjs
var eventemitter3 = __webpack_require__(8611);
// EXTERNAL MODULE: ./node_modules/vue3-toastify/dist/index.mjs
var dist = __webpack_require__(14084);
// EXTERNAL MODULE: ./src/lang/index.ts + 2 modules
var lang = __webpack_require__(96188);
// EXTERNAL MODULE: ./src/utils/request.ts
var request = __webpack_require__(4322);
;// CONCATENATED MODULE: ./src/api/firmware.ts

const getFirmwareVersion = () => {
  return (0,request/* default */.A)({
    url: "/firmware/version.json",
    method: "GET",
    headers: {
      "Cache-Control": "no-cache",
      "Pragma": "no-cache",
      "Expires": "0"
    }
  });
};
const getFirmware = url => {
  return (0,request/* default */.A)({
    url: url ?? "/firmware/firmware.bin.enc",
    method: "GET",
    responseType: "arraybuffer",
    headers: {
      "Content-Type": "application/gzip",
      "Cache-Control": "no-cache",
      "Pragma": "no-cache",
      "Expires": "0"
    }
  });
};
;// CONCATENATED MODULE: ./src/api/hash.ts

const getSerial = sha => {
  return (0,request/* default */.A)({
    url: `/hash/${sha}.json`,
    method: "GET",
    headers: {
      "Cache-Control": "no-cache",
      "Pragma": "no-cache",
      "Expires": "0"
    }
  });
};
// EXTERNAL MODULE: ./src/utils/debounce.ts
var debounce = __webpack_require__(1560);
// EXTERNAL MODULE: ./src/utils/conversion.ts
var conversion = __webpack_require__(77503);
// EXTERNAL MODULE: ./src/components/bluetooth/index.ts + 4 modules
var bluetooth = __webpack_require__(52126);
// EXTERNAL MODULE: ./src/models/pjcan/device/index.ts + 9 modules
var pjcan_device = __webpack_require__(88909);
// EXTERNAL MODULE: ./src/models/pjcan/buttons/index.ts + 7 modules
var buttons = __webpack_require__(84596);
// EXTERNAL MODULE: ./src/models/pjcan/head-unit/index.ts + 3 modules
var head_unit = __webpack_require__(19661);
// EXTERNAL MODULE: ./src/models/pjcan/onboard/index.ts + 3 modules
var onboard = __webpack_require__(32280);
// EXTERNAL MODULE: ./src/models/pjcan/datetime/index.ts + 1 modules
var datetime = __webpack_require__(9917);
// EXTERNAL MODULE: ./src/models/pjcan/bose/index.ts + 2 modules
var bose = __webpack_require__(89100);
// EXTERNAL MODULE: ./src/models/pjcan/climate/index.ts + 1 modules
var climate = __webpack_require__(72418);
// EXTERNAL MODULE: ./src/models/pjcan/doors/index.ts + 2 modules
var doors = __webpack_require__(84582);
// EXTERNAL MODULE: ./src/models/pjcan/engine/index.ts + 3 modules
var engine = __webpack_require__(76300);
// EXTERNAL MODULE: ./src/models/pjcan/fuel/index.ts + 3 modules
var fuel = __webpack_require__(59461);
// EXTERNAL MODULE: ./src/models/pjcan/movement/index.ts + 2 modules
var movement = __webpack_require__(14753);
// EXTERNAL MODULE: ./src/models/pjcan/sensors/index.ts + 2 modules
var sensors = __webpack_require__(57411);
// EXTERNAL MODULE: ./src/models/pjcan/temperature/index.ts + 1 modules
var temperature = __webpack_require__(42570);
// EXTERNAL MODULE: ./src/models/pjcan/volume/index.ts + 1 modules
var volume = __webpack_require__(82882);
// EXTERNAL MODULE: ./src/models/pjcan/version/index.ts + 1 modules
var version = __webpack_require__(55800);
// EXTERNAL MODULE: ./src/models/pjcan/choice/index.ts + 1 modules
var pjcan_choice = __webpack_require__(19103);
// EXTERNAL MODULE: ./src/models/pjcan/base/BaseModel.ts
var BaseModel = __webpack_require__(22575);
// EXTERNAL MODULE: ./src/models/pjcan/device/EDeviceUpdateError.ts
var EDeviceUpdateError = __webpack_require__(80314);
;// CONCATENATED MODULE: ./src/api/canbus.ts


































const dev = "production" === "development";
class Canbus extends eventemitter3/* default */.A {
  constructor() {
    super();
    /** Bluetooth */
    (0,defineProperty/* default */.A)(this, "bluetooth", new bluetooth/* Bluetooth */.N4());
    /** Очередь */
    (0,defineProperty/* default */.A)(this, "queue", []);
    /** Ожидание следующей очереди */
    (0,defineProperty/* default */.A)(this, "queueWait", false);
    /** Запрет на отправку данных */
    (0,defineProperty/* default */.A)(this, "queueDisabled", false);
    /** Обновление прошивки */
    (0,defineProperty/* default */.A)(this, "update", new pjcan_device/* DeviceUpdate */.iD());
    /** Таймер */
    (0,defineProperty/* default */.A)(this, "debounce", (0,debounce/* createDebounce */.S)());
    /** Версия прошивки PJCAN */
    (0,defineProperty/* default */.A)(this, "version", new version/* Version */.Rx());
    /** Версия платы */
    (0,defineProperty/* default */.A)(this, "hardware", {});
    /** Статус активации устройства */
    (0,defineProperty/* default */.A)(this, "activation", false);
    (0,defineProperty/* default */.A)(this, "__onVersion", ev => canbus.onVersion(ev, false));
    (0,defineProperty/* default */.A)(this, "__onVersion40", ev => canbus.onVersion(ev, true));
    (0,defineProperty/* default */.A)(this, "__onIsActivation", ev => canbus.onIsActivation(ev));
    (0,defineProperty/* default */.A)(this, "__onActivation", ev => canbus.onActivation(ev));
    (0,defineProperty/* default */.A)(this, "checkVersionInterval", void 0);
    (0,defineProperty/* default */.A)(this, "scannerInterval", void 0);
    (0,defineProperty/* default */.A)(this, "scannerValue", void 0);
    this.bluetooth.addListener(bluetooth/* BLUETOOTH_EVENT_CONNECTED */.Sl, ev => this.onConnected(ev));
    this.bluetooth.addListener(bluetooth/* BLUETOOTH_EVENT_RECEIVE */.Sm, ev => this.onReceive(ev));
  }
  /** Статус работы Canbus */
  get status() {
    return this.bluetooth.connected && this.version.is;
  }
  /** Отправка сообщений из очереди */
  sendBluetoothQueue() {
    if (this.bluetooth.connected) {
      if (this.queueWait) return;
      this.queueWait = true;
      while (this.queue.length) {
        const next = this.queue[0];
        this.queue.shift();
        if (!this.queueDisabled || this.queueDisabled && next.highPriority) {
          this.bluetooth.send(next.data).then(() => {
            next.fn?.(true);
          }).catch(err => {
            next.fn?.(false);
            if (dev) console.log("Query:", err);
          }).finally(() => {
            this.queueWait = false;
            this.sendBluetoothQueue();
          });
          return;
        }
      }
      this.queueWait = false;
    } else if (this.queue.length) {
      this.queue = [];
    }
  }
  /**
   * Запрос/отправка данных
   * @param {IBaseModel} obj Объект данных
   * @param {boolean} request Только запрос данных
   * @param {function} fn Функция обратного вызова
   */
  query(obj, request, fn) {
    if (!this.activation && !obj.skipActivationCheck) return;
    if (this.queue.length) {
      const item = this.queue.find(x => x.exec === obj.exec && x.id === obj.id);
      if (item) {
        if (!request) {
          item.data = obj.get();
          item.fn = fn;
        }
        return;
      }
    }
    this.queue.push({
      exec: obj.exec,
      highPriority: obj.highPriority,
      id: obj.id,
      data: obj.get(request),
      fn
    });
    this.sendBluetoothQueue();
  }
  /**
   * Событие подключения Bluetooth
   * @param {TConnectedStatus} status Статус подключения
   */
  onConnected(status) {
    this.queue = [];
    if (status === bluetooth/* TConnectedStatus */.s5.CONNECT) {
      if (!this.version.is) {
        // Запрос версии прошивки
        this.addListener(version/* API_VERSION_EVENT */.dD, this.__onVersion);
        this.query(new version/* Version */.Rx(), true);
        // Запрос версии прошивки 4.0
        this.addListener(version/* API40_VERSION_EVENT */.FX, this.__onVersion40);
        this.query(new version/* Version */.Rx(undefined, 40), true);
        return;
      }
    }
    this.emit(BaseModel/* API_CANBUS_EVENT */.l, this.status);
  }
  /**
   * Входящее значение версии
   * @param {DataView} data Данные
   * @param {boolean} oldProtocol Старая версия протокола
   */
  onVersion(data, oldProtocol) {
    this.removeListener(version/* API_VERSION_EVENT */.dD, this.__onVersion);
    this.removeListener(version/* API40_VERSION_EVENT */.FX, this.__onVersion40);
    this.queue = [];
    if (oldProtocol) {
      const ver40 = new version/* Version */.Rx(data, 40);
      this.version.major = ver40.major;
      this.version.minor = ver40.minor;
      this.version.build = ver40.build;
      this.version.revision = ver40.revision;
      this.update.protocol = 40;
      this.emit(version/* API_VERSION_EVENT */.dD, this.version.get(false));
    } else this.version.set(data);
    if (this.version.is) {
      const {
        major,
        minor,
        build,
        revision
      } = this.version;
      console.log((0,lang.t)("BLE.server.versionProtocol", {
        mj: major,
        mn: minor,
        bl: build,
        rv: revision
      }));
      // Запрос значения активации устройства
      if (!oldProtocol) {
        this.addListener(pjcan_device/* API_DEVICE_VALUE_EVENT */.dX, this.__onIsActivation);
        this.query(new pjcan_device/* DeviceValue */.In());
      }
      // Проверка наличия новой версии прошивки, каждые 5 минут
      this.startCheckVersion(300000, true);
    } else {
      this.emit(BaseModel/* API_CANBUS_EVENT */.l, this.status);
      dist/* toast */.oR.error((0,lang.t)("error.version"));
    }
  }
  /**
   * Запустить проверку версии прошивки
   * @param {number} interval Интервал не менее 5000 мс
   * @param {boolean} force Запустить проверку немедленно
   */
  startCheckVersion(interval, force = false) {
    const onCheckVersion = () => {
      this.checkVersion().then(newVersion => {
        this.emit(version/* API_NEW_VERSION_EVENT */.QM, newVersion);
        // Меняем время проверки наличия новой версии прошивки на каждые 15 минут
        this.startCheckVersion(900000);
      }).catch(() => {});
    };
    if (interval >= 5000) {
      this.stopCheckVersion();
      this.checkVersionInterval = setInterval(() => onCheckVersion(), interval);
    }
    if (force) onCheckVersion();
  }
  /** Остановить проверку версии прошивки */
  stopCheckVersion() {
    if (this.checkVersionInterval) {
      clearInterval(this.checkVersionInterval);
      this.checkVersionInterval = undefined;
    }
  }
  /**
   * Проверка активации устройства PJCAN
   * @param {DataView} data Данные
   */
  onIsActivation(data) {
    const device = new pjcan_device/* DeviceValue */.In(data);
    if (device.isData) {
      this.removeListener(pjcan_device/* API_DEVICE_VALUE_EVENT */.dX, this.__onIsActivation);
      this.hardware = device.hardware;
      this.activation = device.activation;
      if (!this.activation) {
        // для активации устройства получаем хеш устройства
        this.addListener(pjcan_device/* API_DEVICE_INFO_EVENT */.Os, this.__onActivation);
        this.query(new pjcan_device/* DeviceInfo */.Vj());
      } else {
        this.rollbackVersion().then(rollback => {
          this.emit(pjcan_device/* API_DEVICE_ROLLBACK_EVENT */.GE, rollback);
        }).catch(() => {}).finally(() => {
          this.emit(BaseModel/* API_CANBUS_EVENT */.l, this.status);
        });
      }
    }
  }
  /**
   * Активация устройства PJCAN
   * @param {DataView} data Данные
   */
  onActivation(data) {
    const info = new pjcan_device/* DeviceInfo */.Vj(data);
    if (info.isData) {
      this.removeListener(pjcan_device/* API_DEVICE_INFO_EVENT */.Os, this.__onActivation);
      const sha = (0,conversion/* arrayToHex */.cp)(info.sha);
      if (sha?.length) {
        getSerial(sha).then(res => {
          if (res?.sha?.length) {
            const device = new pjcan_device/* DeviceActivation */.hF();
            device.serial = res.sha;
            this.query(device, false, success => {
              if (success) {
                this.rebootDevice(true);
                dist/* toast */.oR.success((0,lang.t)("activation.success"));
              } else dist/* toast */.oR.error((0,lang.t)("activation.error"));
            });
          } else dist/* toast */.oR.error((0,lang.t)("activation.error"));
        }).catch(() => {
          dist/* toast */.oR.error((0,lang.t)("activation.error"));
        });
      }
    }
  }
  /**
   * Входящие данные
   * @param {DataView} data Данные
   */
  onReceive(data) {
    const id = data.getUint8(0);
    switch (id) {
      case version/* API_VERSION_EXEC */.uM:
        // Версия прошивки
        this.emit(version/* API_VERSION_EVENT */.dD, data);
        break;
      case pjcan_device/* API_DEVICE_INFO_EXEC */.x:
        // Информация об устройстве
        this.emit(pjcan_device/* API_DEVICE_INFO_EVENT */.Os, data);
        break;
      case pjcan_device/* API_DEVICE_ACTIVATION_EXEC */.Nk:
        // Активация устройства
        this.emit(pjcan_device/* API_DEVICE_ACTIVATION_EVENT */.E7, data);
        break;
      case pjcan_device/* API_DEVICE_CONFIG_EXEC */.z8:
        // Конфигурация устройства
        this.emit(pjcan_device/* API_DEVICE_CONFIG_EVENT */.iX, data);
        break;
      case pjcan_device/* API_DEVICE_VALUE_EXEC */.ID:
        // Значения устройства
        this.emit(pjcan_device/* API_DEVICE_VALUE_EVENT */.dX, data);
        break;
      case pjcan_device/* API_DEVICE_UPDATE_EXEC */.K5: // Обновление прошивки
      case pjcan_device/* API40_DEVICE_UPDATE_EXEC */.Gj:
        this.update.set(data);
        if (this.update.offset < this.update.total) this.updateUpload().then();
        this.emit(pjcan_device/* API_DEVICE_UPDATE_EVENT */.BO, this.update);
        break;
      case pjcan_device/* API_DEVICE_SCANNER_VALUE_EXEC */.nG:
        // Значения сканирования (устаревший ID API40_VERSION_EXEC, нужен для обновления до 4.1)
        // Версия прошивки 4.0
        if (!this.version.is) this.emit(version/* API40_VERSION_EVENT */.FX, data);else this.emit(pjcan_device/* API_DEVICE_SCANNER_VALUE_EVENT */.eb, data);
        break;
      case pjcan_device/* API_DEVICE_VIEW_WORKTIME_EXEC */.J2:
        // Отображение времени работы устройства
        this.emit(pjcan_device/* API_DEVICE_VIEW_WORKTIME_EVENT */.K, data);
        break;
      case pjcan_device/* API_DEVICE_VIEW_VOLTMETER_EXEC */.ru:
        // Отображение напряжения бортовой сети
        this.emit(pjcan_device/* API_DEVICE_VIEW_VOLTMETER_EVENT */.CN, data);
        break;
      case pjcan_choice/* API_CHOICE_EXEC */.h:
        // Выборочные данные
        new pjcan_choice/* ChoiceValue */.L(data, res => this.onReceive(res));
        break;
      case buttons/* API_SW1_CONFIG_EXEC */.E7:
        // Конфигурация кнопок SW1
        this.emit(buttons/* API_SW1_CONFIG_EVENT */.$o, data);
        break;
      case buttons/* API_SW1_VALUE_EXEC */.py:
        // Значения кнопки SW1
        this.emit(buttons/* API_SW1_VALUE_EVENT */._u, data);
        break;
      case buttons/* API_SW3_CONFIG_EXEC */.kU:
        // Конфигурация кнопок SW3
        this.emit(buttons/* API_SW3_CONFIG_EVENT */.F, data);
        break;
      case buttons/* API_SW3_VALUE_EXEC */.Tk:
        // Значения кнопки SW3
        this.emit(buttons/* API_SW3_VALUE_EVENT */.iL, data);
        break;
      case onboard/* API_ONBOARD_CONFIG_EXEC */.SX:
        // Конфигурация автомобиля
        this.emit(onboard/* API_ONBOARD_CONFIG_EVENT */.Vw, data);
        break;
      case onboard/* API_ONBOARD_VIEW_EXEC */.F5:
        // Конфигурация отображения текста приветствия
        this.emit(onboard/* API_ONBOARD_VIEW_EVENT */.Ew, data);
        break;
      case datetime/* API_DATETIME_CONFIG_EXEC */.GI:
        // Конфигурация времени
        this.emit(datetime/* API_DATETIME_CONFIG_EVENT */.JR, data);
        break;
      case datetime/* API_DATETIME_VIEW_EXEC */.Bm:
        // Конфигурация отображения времени
        this.emit(datetime/* API_DATETIME_VIEW_EVENT */.kP, data);
        break;
      case head_unit/* API_HEAD_UNIT_CONFIG_EXEC */.kZ:
        // Конфигурация Head Unit
        this.emit(head_unit/* API_HEAD_UNIT_CONFIG_EVENT */.xD, data);
        break;
      case head_unit/* API_HEAD_UNIT_VALUE_EXEC */.Xd:
        // Текст Head Unit
        this.emit(head_unit/* API_HEAD_UNIT_VALUE_EVENT */.wF, data);
        break;
      case head_unit/* API_HEAD_UNIT_VIEW_EXEC */.NA:
        // Параметры отображения Head Unit
        this.emit(head_unit/* API_HEAD_UNIT_VIEW_EVENT */.Ut, data);
        break;
      case bose/* API_BOSE_CONFIG_EXEC */.YG:
        // Конфигурация Bose
        this.emit(bose/* API_BOSE_CONFIG_EVENT */.zV, data);
        break;
      case bose/* API_BOSE_VIEW_EXEC */.xT:
        // Параметры отображения Bose
        this.emit(bose/* API_BOSE_VIEW_EVENT */.qJ, data);
        break;
      case climate/* API_CLIMATE_VALUE_EXEC */.Z$:
        // Значения климат-контроля
        this.emit(climate/* API_CLIMATE_VALUE_EVENT */.Yu, data);
        break;
      case climate/* API_CLIMATE_VIEW_EXEC */.zE:
        // Параметры отображения климат-контроля
        this.emit(climate/* API_CLIMATE_VIEW_EVENT */.yt, data);
        break;
      case doors/* API_DOORS_CONFIG_EXEC */.CY:
        this.emit(doors/* API_DOORS_CONFIG_EVENT */.lP, data);
        break;
      case doors/* API_DOORS_VALUE_EXEC */.Hz:
        // Значения дверей
        this.emit(doors/* API_DOORS_VALUE_EVENT */.kN, data);
        break;
      case doors/* API_DOORS_VIEW_EXEC */.zD:
        // Параметры отображения дверей
        this.emit(doors/* API_DOORS_VIEW_EVENT */.Ww, data);
        break;
      case engine/* API_ENGINE_CONFIG_EXEC */.D6:
        // Конфигурация ДВС
        this.emit(engine/* API_ENGINE_CONFIG_EVENT */.s_, data);
        break;
      case engine/* API_ENGINE_VALUE_EXEC */.Oq:
        // Значения ДВС
        this.emit(engine/* API_ENGINE_VALUE_EVENT */.P8, data);
        break;
      case engine/* API_ENGINE_VIEW_EXEC */.Em:
        // Параметры отображения ДВС
        this.emit(engine/* API_ENGINE_VIEW_EVENT */.Zw, data);
        break;
      case engine/* API_ENGINE_VIEW_ENABLED_EXEC */.Cc:
        this.emit(engine/* API_ENGINE_VIEW_ENABLED_EVENT */.tn, data);
        break;
      case engine/* API_ENGINE_VIEW_TOTAL_WORKTIME_EXEC */.Yj:
        this.emit(engine/* API_ENGINE_VIEW_TOTAL_WORKTIME_EVENT */.DM, data);
        break;
      case engine/* API_ENGINE_VIEW_TOTAL_COUNT_RPM_EXEC */.xx:
        this.emit(engine/* API_ENGINE_VIEW_TOTAL_COUNT_RPM_EVENT */.w0, data);
        break;
      case engine/* API_ENGINE_VIEW_COOLANT_EXEC */.Pv:
        this.emit(engine/* API_ENGINE_VIEW_COOLANT_EVENT */.EX, data);
        break;
      case engine/* API_ENGINE_VIEW_RPM_EXEC */.k3:
        this.emit(engine/* API_ENGINE_VIEW_RPM_EVENT */.f0, data);
        break;
      case engine/* API_ENGINE_VIEW_LOAD_EXEC */.L9:
        this.emit(engine/* API_ENGINE_VIEW_LOAD_EVENT */.Ud, data);
        break;
      case engine/* API_ENGINE_VIEW_THROTTLE_EXEC */.jh:
        this.emit(engine/* API_ENGINE_VIEW_THROTTLE_EVENT */.wN, data);
        break;
      case fuel/* API_FUEL_CONFIG_EXEC */.n7:
        // Конфигурация расхода
        this.emit(fuel/* API_FUEL_CONFIG_EVENT */.KC, data);
        break;
      case fuel/* API_FUEL_VALUE_EXEC */.qV:
        // Значения расхода
        this.emit(fuel/* API_FUEL_VALUE_EVENT */.tS, data);
        break;
      case fuel/* API_FUEL_VIEW_EXEC */.OG:
        // Параметры отображения расхода
        this.emit(fuel/* API_FUEL_VIEW_EVENT */.jC, data);
        break;
      case fuel/* API_FUEL_VIEW_CURRENT_EXEC */.yx:
        this.emit(fuel/* API_FUEL_VIEW_CURRENT_EVENT */.jh, data);
        break;
      case fuel/* API_FUEL_VIEW_AVG_EXEC */.Ng:
        this.emit(fuel/* API_FUEL_VIEW_AVG_EVENT */.Cc, data);
        break;
      case movement/* API_MOVEMENT_VALUE_EXEC */.vT:
        // Значения движения
        this.emit(movement/* API_MOVEMENT_VALUE_EVENT */.Y1, data);
        break;
      case movement/* API_MOVEMENT_VIEW_EXEC */.N6:
        // Параметры отображения движения
        this.emit(movement/* API_MOVEMENT_VIEW_EVENT */.CE, data);
        break;
      case movement/* API_MOVEMENT_VIEW_SPEED_EXEC */.T3:
        this.emit(movement/* API_MOVEMENT_VIEW_SPEED_EVENT */.cJ, data);
        break;
      case movement/* API_MOVEMENT_VIEW_SPEED_AVG_EXEC */.GS:
        this.emit(movement/* API_MOVEMENT_VIEW_SPEED_AVG_EVENT */.hV, data);
        break;
      case movement/* API_MOVEMENT_VIEW_REST_WAY_EXEC */.iH:
        this.emit(movement/* API_MOVEMENT_VIEW_REST_WAY_EVENT */.rL, data);
        break;
      case sensors/* API_SENSORS_VALUE_EXEC */.H2:
        // Значения датчиков
        this.emit(sensors/* API_SENSORS_VALUE_EVENT */.Eg, data);
        break;
      case sensors/* API_SENSORS_VIEW_EXEC */.fW:
        // Параметры отображения датчиков
        this.emit(sensors/* API_SENSORS_VIEW_EVENT */.en, data);
        break;
      case sensors/* API_SENSORS_VIEW_HANDBRAKE_EXEC */._V:
        this.emit(sensors/* API_SENSORS_VIEW_HANDBRAKE_EVENT */.fN, data);
        break;
      case sensors/* API_SENSORS_VIEW_REVERSE_EXEC */.Y5:
        this.emit(sensors/* API_SENSORS_VIEW_REVERSE_EVENT */.Bj, data);
        break;
      case sensors/* API_SENSORS_VIEW_SEATBELT_EXEC */.MA:
        this.emit(sensors/* API_SENSORS_VIEW_SEATBELT_EVENT */.rd, data);
        break;
      case sensors/* API_SENSORS_VIEW_TURN_SIGNAL_EXEC */.WL:
        this.emit(sensors/* API_SENSORS_VIEW_TURN_SIGNAL_EVENT */.he, data);
        break;
      case temperature/* API_TEMPERATURE_VALUE_EXEC */.i0:
        // Значения температуры
        this.emit(temperature/* API_TEMPERATURE_VALUE_EVENT */.H0, data);
        break;
      case temperature/* API_TEMPERATURE_VIEW_EXEC */.EO:
        // Параметры отображения температуры
        this.emit(temperature/* API_TEMPERATURE_VIEW_EVENT */.P5, data);
        break;
      case volume/* API_VOLUME_VALUE_EXEC */.UN:
        // Конфигурация уровня звука
        this.emit(volume/* API_VOLUME_VALUE_EVENT */.PS, data);
        break;
      case volume/* API_VOLUME_VIEW_EXEC */.Kd:
        // Параметры отображения уровня звука
        this.emit(volume/* API_VOLUME_VIEW_EVENT */.fB, data);
        break;
    }
  }
  /** Запустить процесс загрузки прошивки на устройство */
  updateStart(rollback = false) {
    getFirmware(!rollback ? this.update.firmware.url : this.update.rollback.url).then(res => {
      if (res?.byteLength > 0) {
        this.stopCheckVersion();
        this.loopFree();
        this.update.firmwareData = new Uint8Array(res);
        this.update.total = res.byteLength;
        this.update.offset = 0;
        this.update.error = EDeviceUpdateError/* EDeviceUpdateError */.D.UPD_OK;
        this.update.encrypt = this.update.setIV(!rollback ? this.update.firmware.iv : this.update.rollback.iv);
        this.update.is_rollback = rollback;
        setTimeout(() => this.updateUpload(), 1000);
      }
    }).catch(() => {
      this.emit(pjcan_device/* API_DEVICE_UPDATE_EVENT_ERROR */.S, (0,lang.t)("update.notify.errorDownload"));
    });
  }
  /** Пишем данные файла прошивки в устройство PJCAN */
  async updateUpload() {
    if (this.bluetooth.connected && this.update.error === 0 && this.update.offset <= this.update.total) {
      this.queueDisabled = true;
      try {
        await this.bluetooth.send(this.update.get());
      } catch (e) {
        console.log(e);
      }
    } else if (this.update.error !== 0) {
      this.queueDisabled = false;
    }
    if (this.update.end) {
      const action = new pjcan_device/* DeviceAction */.nX();
      action.reboot = true;
      action.format = this.update.is_rollback;
      this.query(action);
      this.debounce(() => {
        this.emit(pjcan_device/* API_DEVICE_UPDATE_EVENT_ERROR */.S, (0,lang.t)("update.notify.errorWaitUpdate"));
      }, 60000);
    } else {
      this.debounce(() => {
        this.emit(pjcan_device/* API_DEVICE_UPDATE_EVENT_ERROR */.S, (0,lang.t)("update.notify.errorUpload"));
      }, 5000);
    }
  }
  /** Проверить версию прошивки */
  checkVersion() {
    return new Promise((resolve, reject) => {
      getFirmwareVersion().then(res => {
        const {
          firmware
        } = this.update;
        firmware.url = res?.url ?? "";
        firmware.iv = res?.iv ?? "";
        // проверяем версию прошивки
        if (res.current?.length === 4) {
          const ver = res.current;
          const newVersion = new version/* Version */.Rx();
          newVersion.major = ver[0];
          newVersion.minor = ver[1];
          newVersion.build = ver[2];
          newVersion.revision = ver[3];
          if (this.version.compare(newVersion, 4) > 0) resolve(newVersion);else reject("Current version");
        } else reject("No data");
      }).catch(e => reject(e));
    });
  }
  /** Получить версию прошивки для отката */
  rollbackVersion() {
    return new Promise((resolve, reject) => {
      getFirmwareVersion().then(res => {
        const {
          rollback
        } = this.update;
        const resVer = this.hardware.major === 4 ? this.hardware.minor === 0 ? res?.v40 : this.hardware.minor === 1 ? this.hardware.build === 0 ? res?.v41a : res?.v41b : null : null;
        rollback.current = resVer?.current?.length === 4 ? `${resVer.current[0]}.${resVer.current[1]}.${resVer.current[2]}.${resVer.current[3]}` : "";
        rollback.url = resVer?.url ?? "";
        rollback.iv = resVer?.iv ?? "";
        if (rollback.url.length && rollback.current.length) resolve(rollback);else reject("No data");
      }).catch(e => reject(e));
    });
  }
  /**
   * Перезагрузить устройство
   * @param {boolean} save Сохранить настройки перед загрузкой
   * @param {boolean} resetConfig Сбросить конфигурацию устройства
   * @param {boolean} resetView Сбросить параметры отображения
   * @param {boolean} resetButtons Сбросить конфигурацию кнопок
   */
  rebootDevice(save = false, resetConfig = false, resetView = false, resetButtons = false) {
    this.version.clear();
    this.queue = [];
    const action = new pjcan_device/* DeviceAction */.nX();
    action.reboot = true;
    action.save = save;
    action.resetConfig = resetConfig;
    action.resetView = resetView;
    action.resetButtons = resetButtons;
    this.query(action);
  }
  /**
   * Запуск/остановка сканера
   * @param {boolean} status Статус
   * @param {function} fn Функция обратного вызова
   */
  scanner(status, fn) {
    if (status && !this.status) return false;
    const action = new pjcan_device/* DeviceScannerAction */.Z();
    this.queueDisabled = status;
    action.enabled = status;
    this.query(action, false, success => {
      if (success && status) {
        if (!this.scannerValue) this.scannerValue = new pjcan_device/* DeviceScannerValue */.G4();
        if (!this.scannerInterval) {
          this.scannerInterval = setInterval(() => {
            if (this.scannerValue) this.query(this.scannerValue, true);else this.scannerFree();
          }, 500);
        }
      }
      fn(success);
    });
    if (!status) this.scannerFree();
    return true;
  }
  /** Очистить значения сканера */
  scannerFree() {
    clearInterval(this.scannerInterval);
    this.scannerInterval = undefined;
    this.scannerValue = undefined;
  }
  /**
   * Циклический опрос
   * @param {number[]} list Список ChoiceValue
   */
  loop(list) {
    const result = list.length > 0 && this.status;
    if (result) {
      const choice = new pjcan_choice/* ChoiceValue */.L();
      choice.repeat = 2;
      choice.listID = [...list];
      this.query(choice, true);
    }
    return result;
  }
  /** Очистить цикл */
  loopFree() {
    if (this.status) {
      const choice = new pjcan_choice/* ChoiceValue */.L();
      choice.repeat = 0;
      this.query(choice, true);
    }
  }
}
const canbus = new Canbus();
/* harmony default export */ var api_canbus = (canbus);

/***/ }),

/***/ 27799:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   q: function() { return /* binding */ setScanCan; }
/* harmony export */ });
/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4322);

const setScanCan = data => {
  const id = "AKfycbwGEW3y_jz8MwL4h7ffem_Bdrojoo-Wmd1tQ9Ot_Sg-8vt7jjjJNhyqgXHsjT323K4l5w";
  return (0,_utils_request__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)({
    url: `https://script.google.com/macros/s/${id}/exec`,
    method: "POST",
    params: {
      data: JSON.stringify(data)
    }
  });
};

/***/ }),

/***/ 37030:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: function() { return /* binding */ App; }
});

// EXTERNAL MODULE: ./node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js
var runtime_core_esm_bundler = __webpack_require__(56768);
;// CONCATENATED MODULE: ./node_modules/webpack-plugin-vuetify/dist/scriptLoader.cjs??ruleSet[1].rules[0].use!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[5]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/App.vue?vue&type=template&id=5e668bcf&ts=true

function render(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_base_layout = (0,runtime_core_esm_bundler/* resolveComponent */.g2)("base-layout");
  return (0,runtime_core_esm_bundler/* openBlock */.uX)(), (0,runtime_core_esm_bundler/* createBlock */.Wv)(_component_base_layout);
}
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__(44114);
// EXTERNAL MODULE: ./node_modules/vue-i18n/dist/vue-i18n.mjs
var vue_i18n = __webpack_require__(85851);
// EXTERNAL MODULE: ./node_modules/moment/moment.js
var moment = __webpack_require__(49148);
var moment_default = /*#__PURE__*/__webpack_require__.n(moment);
// EXTERNAL MODULE: ./src/store/index.ts + 20 modules
var store = __webpack_require__(35679);
// EXTERNAL MODULE: ./src/api/canbus.ts + 2 modules
var canbus = __webpack_require__(62774);
// EXTERNAL MODULE: ./src/layout/BaseLayout.vue + 6 modules
var BaseLayout = __webpack_require__(19566);
// EXTERNAL MODULE: ./src/models/pjcan/version/index.ts + 1 modules
var version = __webpack_require__(55800);
// EXTERNAL MODULE: ./src/models/pjcan/device/index.ts + 9 modules
var device = __webpack_require__(88909);
// EXTERNAL MODULE: ./src/models/pjcan/onboard/index.ts + 3 modules
var onboard = __webpack_require__(32280);
// EXTERNAL MODULE: ./src/models/pjcan/head-unit/index.ts + 3 modules
var head_unit = __webpack_require__(19661);
// EXTERNAL MODULE: ./src/models/pjcan/buttons/index.ts + 7 modules
var buttons = __webpack_require__(84596);
// EXTERNAL MODULE: ./src/models/pjcan/bose/index.ts + 2 modules
var bose = __webpack_require__(89100);
// EXTERNAL MODULE: ./src/models/pjcan/engine/index.ts + 3 modules
var engine = __webpack_require__(76300);
// EXTERNAL MODULE: ./src/models/pjcan/fuel/index.ts + 3 modules
var fuel = __webpack_require__(59461);
// EXTERNAL MODULE: ./src/models/pjcan/base/BaseModel.ts
var BaseModel = __webpack_require__(22575);
// EXTERNAL MODULE: ./src/models/pjcan/climate/index.ts + 1 modules
var climate = __webpack_require__(72418);
// EXTERNAL MODULE: ./src/models/pjcan/doors/index.ts + 2 modules
var doors = __webpack_require__(84582);
// EXTERNAL MODULE: ./src/models/pjcan/movement/index.ts + 2 modules
var movement = __webpack_require__(14753);
// EXTERNAL MODULE: ./src/models/pjcan/sensors/index.ts + 2 modules
var sensors = __webpack_require__(57411);
// EXTERNAL MODULE: ./src/models/pjcan/temperature/index.ts + 1 modules
var temperature = __webpack_require__(42570);
// EXTERNAL MODULE: ./src/models/pjcan/choice/index.ts + 1 modules
var pjcan_choice = __webpack_require__(19103);
// EXTERNAL MODULE: ./src/models/pjcan/datetime/index.ts + 1 modules
var datetime = __webpack_require__(9917);
;// CONCATENATED MODULE: ./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./src/App.vue?vue&type=script&lang=ts






















/* harmony default export */ var Appvue_type_script_lang_ts = ({
  name: "App",
  components: {
    BaseLayout: BaseLayout/* default */.A
  },
  setup() {
    const {
      locale
    } = (0,vue_i18n/* useI18n */.s9)();
    // загружаем и применяем язык интерфейса
    store/* default */.A.dispatch("app/readLanguage");
    locale.value = store/* default */.A.getters["app/language"];
    moment_default().locale(locale.value);
    // записываем входящую конфигурацию в store
    canbus/* default */.A.addListener(version/* API_VERSION_EVENT */.dD, data => {
      store/* default */.A.commit("config/setVersion", data);
      const version = store/* default */.A.getters["config/version"];
      head_unit/* HeadUnitValue */.Ox.update(version);
      temperature/* TemperatureValue */.sY.update(version);
    });
    canbus/* default */.A.addListener(device/* API_DEVICE_INFO_EVENT */.Os, data => store/* default */.A.commit("config/setInfo", data));
    canbus/* default */.A.addListener(device/* API_DEVICE_CONFIG_EVENT */.iX, data => store/* default */.A.commit("config/setDevice", data));
    canbus/* default */.A.addListener(onboard/* API_ONBOARD_CONFIG_EVENT */.Vw, data => {
      store/* default */.A.commit("config/setOnboard", data);
    });
    canbus/* default */.A.addListener(head_unit/* API_HEAD_UNIT_CONFIG_EVENT */.xD, data => store/* default */.A.commit("config/setHead", data));
    canbus/* default */.A.addListener(buttons/* API_SW1_CONFIG_EVENT */.$o, data => store/* default */.A.commit("config/setSW1", data));
    canbus/* default */.A.addListener(bose/* API_BOSE_CONFIG_EVENT */.zV, data => store/* default */.A.commit("config/setBose", data));
    canbus/* default */.A.addListener(doors/* API_DOORS_CONFIG_EVENT */.lP, data => store/* default */.A.commit("config/setDoors", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_CONFIG_EVENT */.s_, data => store/* default */.A.commit("config/setEngine", data));
    canbus/* default */.A.addListener(fuel/* API_FUEL_CONFIG_EVENT */.KC, data => store/* default */.A.commit("config/setFuel", data));
    // canbus.addListener(API_VOLUME_VALUE_EVENT, (data: DataView): void => store.commit("config/setVolume", data));
    canbus/* default */.A.addListener(datetime/* API_DATETIME_CONFIG_EVENT */.JR, data => {
      store/* default */.A.commit("config/setDatetime", data);
      // синхронизация времени
      if (store/* default */.A.getters["config/datetime"].unixtime === 0) store/* default */.A.commit("config/synchDatetime");
    });
    // записываем входящие значения в store
    canbus/* default */.A.addListener(buttons/* API_SW1_VALUE_EVENT */._u, data => store/* default */.A.commit("value/setSW1", data));
    canbus/* default */.A.addListener(climate/* API_CLIMATE_VALUE_EVENT */.Yu, data => store/* default */.A.commit("value/setClimate", data));
    canbus/* default */.A.addListener(device/* API_DEVICE_VALUE_EVENT */.dX, data => store/* default */.A.commit("value/setDevice", data));
    canbus/* default */.A.addListener(doors/* API_DOORS_VALUE_EVENT */.kN, data => store/* default */.A.commit("value/setDoors", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VALUE_EVENT */.P8, data => store/* default */.A.commit("value/setEngine", data));
    canbus/* default */.A.addListener(fuel/* API_FUEL_VALUE_EVENT */.tS, data => store/* default */.A.commit("value/setFuel", data));
    canbus/* default */.A.addListener(movement/* API_MOVEMENT_VALUE_EVENT */.Y1, data => store/* default */.A.commit("value/setMovement", data));
    canbus/* default */.A.addListener(sensors/* API_SENSORS_VALUE_EVENT */.Eg, data => store/* default */.A.commit("value/setSensors", data));
    canbus/* default */.A.addListener(temperature/* API_TEMPERATURE_VALUE_EVENT */.H0, data => store/* default */.A.commit("value/setTemperature", data));
    canbus/* default */.A.addListener(device/* API_DEVICE_SCANNER_VALUE_EVENT */.eb, data => store/* default */.A.commit("value/setScanner", data));
    // записываем входящие значения отображения в store
    canbus/* default */.A.addListener(device/* API_DEVICE_VIEW_WORKTIME_EVENT */.K, data => store/* default */.A.commit("view/setWorktime", data));
    canbus/* default */.A.addListener(device/* API_DEVICE_VIEW_VOLTMETER_EVENT */.CN, data => store/* default */.A.commit("view/setVoltmeter", data));
    canbus/* default */.A.addListener(onboard/* API_ONBOARD_VIEW_EVENT */.Ew, data => store/* default */.A.commit("view/setOnboard", data));
    canbus/* default */.A.addListener(head_unit/* API_HEAD_UNIT_VIEW_EVENT */.Ut, data => store/* default */.A.commit("view/setHeadText", data));
    canbus/* default */.A.addListener(bose/* API_BOSE_VIEW_EVENT */.qJ, data => store/* default */.A.commit("view/setBose", data));
    canbus/* default */.A.addListener(climate/* API_CLIMATE_VIEW_EVENT */.yt, data => store/* default */.A.commit("view/setClimate", data));
    canbus/* default */.A.addListener(doors/* API_DOORS_VIEW_EVENT */.Ww, data => store/* default */.A.commit("view/setDoors", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VIEW_EVENT */.Zw, data => store/* default */.A.commit("view/setEngine", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VIEW_ENABLED_EVENT */.tn, data => store/* default */.A.commit("view/setEngineEnabled", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VIEW_TOTAL_WORKTIME_EVENT */.DM, data => store/* default */.A.commit("view/setEngineTotalWorktime", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VIEW_TOTAL_COUNT_RPM_EVENT */.w0, data => store/* default */.A.commit("view/setEngineTotalCountRPM", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VIEW_COOLANT_EVENT */.EX, data => store/* default */.A.commit("view/setEngineCoolant", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VIEW_RPM_EVENT */.f0, data => store/* default */.A.commit("view/setEngineRPM", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VIEW_LOAD_EVENT */.Ud, data => store/* default */.A.commit("view/setEngineLoad", data));
    canbus/* default */.A.addListener(engine/* API_ENGINE_VIEW_THROTTLE_EVENT */.wN, data => store/* default */.A.commit("view/setEngineThrottle", data));
    canbus/* default */.A.addListener(fuel/* API_FUEL_VIEW_EVENT */.jC, data => store/* default */.A.commit("view/setFuel", data));
    canbus/* default */.A.addListener(fuel/* API_FUEL_VIEW_CURRENT_EVENT */.jh, data => store/* default */.A.commit("view/setFuelCurrent", data));
    canbus/* default */.A.addListener(fuel/* API_FUEL_VIEW_AVG_EVENT */.Cc, data => store/* default */.A.commit("view/setFuelAVG", data));
    canbus/* default */.A.addListener(movement/* API_MOVEMENT_VIEW_EVENT */.CE, data => store/* default */.A.commit("view/setMovement", data));
    canbus/* default */.A.addListener(movement/* API_MOVEMENT_VIEW_SPEED_EVENT */.cJ, data => store/* default */.A.commit("view/setMovementSpeed", data));
    canbus/* default */.A.addListener(movement/* API_MOVEMENT_VIEW_SPEED_AVG_EVENT */.hV, data => store/* default */.A.commit("view/setMovementSpeedAVG", data));
    canbus/* default */.A.addListener(movement/* API_MOVEMENT_VIEW_REST_WAY_EVENT */.rL, data => store/* default */.A.commit("view/setMovementRestWay", data));
    canbus/* default */.A.addListener(sensors/* API_SENSORS_VIEW_EVENT */.en, data => store/* default */.A.commit("view/setSensors", data));
    canbus/* default */.A.addListener(sensors/* API_SENSORS_VIEW_HANDBRAKE_EVENT */.fN, data => store/* default */.A.commit("view/setSensorsHandbrake", data));
    canbus/* default */.A.addListener(sensors/* API_SENSORS_VIEW_REVERSE_EVENT */.Bj, data => store/* default */.A.commit("view/setSensorsReverse", data));
    canbus/* default */.A.addListener(sensors/* API_SENSORS_VIEW_SEATBELT_EVENT */.rd, data => store/* default */.A.commit("view/setSensorsSeatbelt", data));
    canbus/* default */.A.addListener(sensors/* API_SENSORS_VIEW_TURN_SIGNAL_EVENT */.he, data => store/* default */.A.commit("view/setSensorsTurnSignal", data));
    canbus/* default */.A.addListener(temperature/* API_TEMPERATURE_VIEW_EVENT */.P5, data => store/* default */.A.commit("view/setTemperature", data));
    // canbus.addListener(API_VOLUME_VIEW_EVENT, (data: DataView): void => store.commit("view/setVolume", data));
    canbus/* default */.A.addListener(datetime/* API_DATETIME_VIEW_EVENT */.kP, data => store/* default */.A.commit("view/setDatetime", data));
    const onBegin = status => {
      if (status) {
        const choice = new pjcan_choice/* ChoiceValue */.L();
        choice.listID.push(device/* API_DEVICE_CONFIG_EXEC */.z8);
        choice.listID.push(onboard/* API_ONBOARD_CONFIG_EXEC */.SX);
        choice.listID.push(head_unit/* API_HEAD_UNIT_CONFIG_EXEC */.kZ);
        choice.listID.push(doors/* API_DOORS_CONFIG_EXEC */.CY);
        choice.listID.push(engine/* API_ENGINE_CONFIG_EXEC */.D6);
        choice.listID.push(fuel/* API_FUEL_CONFIG_EXEC */.n7);
        // choice.listID.push(API_VOLUME_VALUE_EXEC);
        choice.listID.push(bose/* API_BOSE_CONFIG_EXEC */.YG);
        choice.listID.push(datetime/* API_DATETIME_CONFIG_EXEC */.GI);
        canbus/* default */.A.query(choice, true);
        canbus/* default */.A.query(store/* default */.A.getters["config/sw1"], true);
        choice.listID = [];
        choice.listID.push(device/* API_DEVICE_VIEW_WORKTIME_EXEC */.J2);
        choice.listID.push(device/* API_DEVICE_VIEW_VOLTMETER_EXEC */.ru);
        choice.listID.push(onboard/* API_ONBOARD_VIEW_EXEC */.F5);
        choice.listID.push(head_unit/* API_HEAD_UNIT_VIEW_EXEC */.NA);
        choice.listID.push(bose/* API_BOSE_VIEW_EXEC */.xT);
        choice.listID.push(climate/* API_CLIMATE_VIEW_EXEC */.zE);
        choice.listID.push(doors/* API_DOORS_VIEW_EXEC */.zD);
        choice.listID.push(engine/* API_ENGINE_VIEW_EXEC */.Em);
        choice.listID.push(fuel/* API_FUEL_VIEW_EXEC */.OG);
        choice.listID.push(movement/* API_MOVEMENT_VIEW_EXEC */.N6);
        choice.listID.push(sensors/* API_SENSORS_VIEW_EXEC */.fW);
        choice.listID.push(temperature/* API_TEMPERATURE_VIEW_EXEC */.EO);
        choice.listID.push(datetime/* API_DATETIME_VIEW_EXEC */.Bm);
        canbus/* default */.A.query(choice, true);
      }
    };
    canbus/* default */.A.addListener(BaseModel/* API_CANBUS_EVENT */.l, onBegin);
    // Отключаемся от адаптера, перед тем как обновиться страница
    window.onbeforeunload = ev => canbus/* default */.A.bluetooth.disconnect();
  }
});
;// CONCATENATED MODULE: ./src/App.vue?vue&type=script&lang=ts
 
// EXTERNAL MODULE: ./node_modules/vue-loader/dist/exportHelper.js
var exportHelper = __webpack_require__(71241);
;// CONCATENATED MODULE: ./src/App.vue




;
const __exports__ = /*#__PURE__*/(0,exportHelper/* default */.A)(Appvue_type_script_lang_ts, [['render',render]])

/* harmony default export */ var App = (__exports__);

/***/ }),

/***/ 8330:
/***/ (function(module) {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"name":"pjcan","version":"1.1.10","private":true,"description":"CanBus project for Mazda","author":"PJ82. Spiridonov Vladislav","scripts":{"serve":"vue-cli-service serve","build 4.1":"vue-cli-service build --mode pjcan41","build test":"vue-cli-service build --mode test"},"dependencies":{"@egjs/vue3-flicking":"^4.11.4","@mdi/font":"7.4.47","axios":"1.7.8","bitset":"^5.1.1","core-js":"^3.38.1","eventemitter3":"^5.0.1","moment":"^2.30.1","register-service-worker":"^1.7.2","roboto-fontface":"*","screenfull":"^6.0.2","vue":"^3.5.12","vue-i18n":"^10.0.5","vue-router":"^4.4.5","vue3-toastify":"^0.2.3","vuedraggable":"^4.1.0","vuetify":"^3.7.2","vuex":"^4.1.0","webfontloader":"^1.6.28"},"devDependencies":{"@types/node":"^22.5.5","@types/webfontloader":"^1.6.29","@typescript-eslint/eslint-plugin":"^8.6.0","@typescript-eslint/parser":"^8.6.0","@vue/cli-plugin-babel":"~5.0.8","@vue/cli-plugin-eslint":"~5.0.8","@vue/cli-plugin-pwa":"~5.0.8","@vue/cli-plugin-router":"~5.0.8","@vue/cli-plugin-typescript":"~5.0.8","@vue/cli-plugin-vuex":"~5.0.8","@vue/cli-service":"~5.0.8","@vue/eslint-config-typescript":"^13.0.0","@vueuse/core":"^11.1.0","eslint":"~8.57.1","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","eslint-plugin-vue":"^9.7.0","prettier":"^3.3.3","sass":"^1.79.1","sass-loader":"^16.0.1","script-ext-html-webpack-plugin":"^2.1.5","typescript":"~4.9.5","vue-cli-plugin-vuetify":"~2.5.8","webpack-plugin-vuetify":"^3.0.3"},"eslintConfig":{"root":true,"env":{"node":true},"extends":["plugin:vue/vue3-essential","eslint:recommended","@vue/typescript/recommended","plugin:prettier/recommended"],"parserOptions":{"ecmaVersion":2020},"rules":{}},"browserslist":["> 1%","last 2 versions","not dead","not ie 11"],"productName":"PJCAN App"}');

/***/ })

}]);